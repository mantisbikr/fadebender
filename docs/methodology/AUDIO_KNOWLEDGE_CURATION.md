# Audio Knowledge Curation Methodology

**Date:** 2025-10-17
**Status:** Active
**Supersedes:** Previous LLM-generated audio knowledge approach

## Problem Statement

Initial audio knowledge was generated by LLMs without proper research, resulting in:
- **Vague, generic descriptions** that don't explain technical behavior
- **Misleading metaphors** (e.g., "spinning" for timing modulation)
- **Missing context** on why parameters are useful
- **Inaccurate sonic effects** that don't match real DSP behavior

### Example: ER Spin Rate (Before)

```json
{
  "audio_function": "Speed of early reflection pattern rotation",
  "sonic_effect": {
    "increasing": "Faster spinning; more motion in stereo field",  ❌ MISLEADING
    "decreasing": "Slower, more stable stereo image"
  }
}
```

**Problems:**
- "Rotation" and "spinning" imply stereo field rotation (like autopan)
- Actually performs **timing modulation**, not spatial rotation
- Missing technical explanation of **chorus/phasing effect**
- No context on **why** this is useful

## New Approach: Research-Based Curation

### 1. Research from Authoritative Sources

For each parameter, gather information from:

✅ **Primary Sources (Best):**
- Official Ableton documentation
- Ableton forum discussions with staff/experts
- Technical audio DSP textbooks

✅ **Secondary Sources (Good):**
- Reputable production blogs (Sound on Sound, Beat Production, etc.)
- Expert tutorials and courses
- Industry-standard algorithm references (e.g., Lexicon reverb design)

❌ **Avoid:**
- Generic LLM generation without research
- Unverified forum speculation
- Marketing copy without technical substance

### 2. Structure Information Accurately

Store researched knowledge in JSON files with this structure:

```json
{
  "device_name": "Reverb",
  "device_signature": "<firestore_doc_id>",
  "source": "Description of research sources",
  "last_updated": "YYYY-MM-DD",
  "parameters": {
    "Parameter Name": {
      "audio_function": "Brief technical description of what parameter controls",
      "sonic_effect": {
        "increasing": "Precise description of sonic change when increasing",
        "decreasing": "Precise description of sonic change when decreasing"
      },
      "technical_detail": "Algorithm/DSP details (optional but valuable)",
      "use_cases": [
        "When and why to use this parameter",
        "Production scenarios"
      ],
      "typical_values": {
        "label": "Value range with context"
      }
    }
  }
}
```

### 3. Apply to Firestore

Use the `apply_audio_knowledge.py` script to update parameters:

```bash
# Preview changes
python scripts/apply_audio_knowledge.py data/audio_knowledge/reverb_accurate.json --dry-run

# Apply updates
python scripts/apply_audio_knowledge.py data/audio_knowledge/reverb_accurate.json

# Update single parameter
python scripts/apply_audio_knowledge.py data/audio_knowledge/reverb_accurate.json --param "ER Spin Rate"
```

## Example: ER Spin Rate (After Research)

### Research Sources:
- Ableton Forum: https://forum.ableton.com/viewtopic.php?t=180602
- Beat Production: https://beatproduction.net/understanding-ableton-lives-reverb/
- Technical reverb knowledge (Lexicon 480L algorithm)

### Curated Knowledge:

```json
{
  "audio_function": "Modulates early reflection timing with a low-frequency sine wave to add chorus-like movement",
  "sonic_effect": {
    "increasing": "More timing variation in early reflections; stronger chorus/phasing effect; increased perceived complexity and diffusion",
    "decreasing": "Less modulation; more static, distinct early reflections; cleaner but potentially more artificial sound"
  },
  "technical_detail": "Low-frequency sine wave modulates ER delay timing (2-55ms depth at 0.07-1.3Hz rate). Inspired by Lexicon 480L reverb algorithm. Creates cyclic delay variations that prevent metallic, static early reflections.",
  "use_cases": [
    "Add naturalness to algorithmic reverb",
    "Prevent metallic, static early reflections",
    "Create richer, more complex reverb character",
    "Emulate natural room variations"
  ],
  "typical_values": {
    "subtle_movement": "0.07-0.2 Hz for barely perceptible modulation",
    "recommended": "~1.0 Hz, ~10ms depth for balanced natural sound",
    "pronounced_effect": "1.0-1.3 Hz, 20-55ms depth for obvious modulation"
  }
}
```

## Quality Guidelines

### ✅ Good Audio Knowledge

- **Technically accurate**: Describes actual DSP/algorithm behavior
- **Specific**: Uses precise terms (modulation, filtering, compression ratio)
- **Contextual**: Explains *why* and *when* to use parameter
- **Measurable**: Includes numeric ranges, units, typical values
- **Avoids jargon without explanation**: If using terms like "attack," define context

### ❌ Poor Audio Knowledge

- **Vague**: "Makes it sound better/worse"
- **Metaphorical without substance**: "Spinning," "warming," "opening up"
- **Generic**: Could apply to any parameter
- **Misleading**: Uses wrong technical terms
- **No context**: Doesn't explain production use cases

## Workflow

### For New Devices

1. **Research**: Gather authoritative sources for all parameters
2. **Create JSON**: `data/audio_knowledge/<device>_accurate.json`
3. **Review**: Validate technical accuracy
4. **Apply**: Run `apply_audio_knowledge.py`
5. **Test**: Verify in WebUI tooltips and chat responses

### For Updates

1. **Identify inaccurate knowledge** (user feedback, testing)
2. **Research correct information** from authoritative sources
3. **Update JSON file** with accurate data
4. **Re-apply** using script
5. **Document** what was fixed and why

## File Structure

```
data/audio_knowledge/
├── reverb_accurate.json        # Curated Reverb knowledge
├── compressor_accurate.json    # (Future) Compressor knowledge
└── eq_accurate.json            # (Future) EQ knowledge

scripts/
├── apply_audio_knowledge.py    # Apply curated knowledge to Firestore
└── update_audio_knowledge.py   # (Experimental) LLM-assisted research
```

## Benefits

1. **Accuracy**: Real DSP behavior, not guesses
2. **User Trust**: Reliable, authoritative information
3. **Better UX**: Users understand parameters deeply
4. **Maintainability**: Single JSON file per device, easy to update
5. **Version Control**: Track improvements over time in git

## Future Improvements

- Web scraping tools for official Ableton docs
- Automated validation against known parameter behaviors
- Community contributions with review process
- Integration with parameter presets (link typical values to actual presets)

---

**Last Updated:** 2025-10-17
**Maintained By:** Development team
**Review Cycle:** Quarterly or when inaccuracies discovered
